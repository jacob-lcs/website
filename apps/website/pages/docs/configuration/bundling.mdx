import { Callout } from 'nextra-theme-docs'

# æ‰“åŒ…é…ç½®

<Callout emoji="ğŸš§">
  æ­¤åŠŸèƒ½ä»åœ¨å»ºè®¾ä¸­ã€‚
</Callout>

SWC èƒ½å¤Ÿå°†å¤šä¸ª JavaScript æˆ– TypeScript æ–‡ä»¶æ‰“åŒ…æˆä¸€ä¸ªã€‚

æ­¤åŠŸèƒ½ç›®å‰å‘½åä¸º `spack`ï¼Œä½†å°†åœ¨ `v2` ä¸­æ›´åä¸º `swcpack`ã€‚`spack.config.js` å°†è¢«å¼ƒç”¨ï¼Œæ”¹ä¸º `swcpack.config.js`ã€‚

æŸ¥çœ‹ [æ‰“åŒ…çš„åŸºæœ¬ç¤ºä¾‹](https://github.com/swc-project/pkgs/tree/main/packages/cli/examples/spack-basic)ã€‚

## é…ç½®

ä½ å¯ä»¥ä½¿ç”¨ `spack.config.js` æ¥é…ç½®æ‰“åŒ…ï¼Œé€‰é¡¹ä¸ webpack ç±»ä¼¼ã€‚æœªæ¥ï¼Œæˆ‘ä»¬æ­£åœ¨æ¢ç´¢ä¸ webpack å…¼å®¹çš„æ’ä»¶ç³»ç»Ÿã€‚

```js filename="spack.config.js" copy
module.exports = {
  entry: {
    web: __dirname + "/src/index.ts",
  },
  output: {
    path: __dirname + "/lib",
  },
};
```

> æ³¨æ„ï¼šç›®å‰éœ€è¦ CommonJSã€‚æœªæ¥å°†æ”¯æŒ ES æ¨¡å—ã€‚

å¦‚æœä½ å¸Œæœ›é…ç½®å…·æœ‰è‡ªåŠ¨è¡¥å…¨æˆ–ç±»å‹æ£€æŸ¥åŠŸèƒ½ï¼Œå¯ä»¥ä½¿ç”¨ `@swc/core/spack` ä¸­çš„ `config` å‡½æ•°åŒ…è£…å¯¼å‡ºã€‚å®ƒæ˜¯ä¸€ä¸ªå¸¦æœ‰ç±»å‹æ³¨è§£çš„æ’ç­‰å‡½æ•°ã€‚

```ts filename="spack.config.js" copy
const { config } = require("@swc/core/spack");

module.exports = config({
  entry: {
    web: __dirname + "/src/index.ts",
  },
  output: {
    path: __dirname + "/lib",
  },
});
```

### mode

å¯èƒ½çš„å€¼ï¼š`production`ã€`debug`ã€`none`ã€‚

ç›®å‰æ­¤å€¼æœªè¢«ä½¿ç”¨ï¼Œä½†å…¶è¡Œä¸ºå°†ä¸ webpack ç±»ä¼¼ã€‚

### entry

ç¡®å®šæ‰“åŒ…çš„å…¥å£ã€‚ä½ å¯ä»¥æŒ‡å®šä¸€ä¸ªæ–‡ä»¶æˆ–ä¸€ä¸ªåŒ…ååˆ°æ–‡ä»¶è·¯å¾„çš„æ˜ å°„ã€‚

> æ³¨æ„ï¼šç›®å‰è¿™åº”è¯¥æ˜¯ç»å¯¹è·¯å¾„ã€‚ä½ å¯ä»¥ä½¿ç”¨ `__dirname` æ¥åˆ›å»ºä¸€ä¸ªã€‚
>
> æœªæ¥ï¼ŒSWC å°†æ”¯æŒä½¿ç”¨ç›¸å¯¹è·¯å¾„ï¼Œå¹¶å°†ç›¸å¯¹äº `spack.config.js` è§£ææ–‡ä»¶ã€‚

### output

ä½ å¯ä»¥ä½¿ç”¨ `output` æ›´æ”¹æ‰“åŒ…å™¨çš„ç›®æ ‡ç›®å½•ã€‚

```ts filename="spack.config.js" copy
const { config } = require("@swc/core/spack");

module.exports = config({
  output: {
    path: __dirname + "/lib",
    // name æ˜¯å¯é€‰çš„ã€‚
    name: "index.js",
  },
});
```

### options

ç”¨äºæ§åˆ¶ SWC çš„è¡Œä¸ºã€‚æ­¤å­—æ®µæ˜¯å¯é€‰çš„ã€‚